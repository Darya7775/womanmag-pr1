{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/inline-video/js/index.js","webpack:///./components/inline-video/js/iphone-inline-video.js"],"names":["window","addEventListener","videos","document","querySelectorAll","forEach","video","enableInlineVideo","intervalometer","cb","request","cancel","requestParameter","requestId","previousLoopTime","loop","now","start","stop","frameIntervalometer","requestAnimationFrame","cancelAnimationFrame","preventEvent","element","eventName","test","handler","e","stopImmediatePropagation","proxyProperty","object","propertyName","sourceObject","copyFirst","get","set","value","Object","defineProperty","proxyEvent","dispatchEvent","Event","dispatchEventAsync","type","Promise","resolve","then","iOS8or9","head","style","matchMedia","matches","IIV","IIVEvent","IIVPlay","IIVPause","getAudioFromVideo","audio","Audio","crossOrigin","src","currentSrc","lastRequests","requestIndex","lastTimeupdateEvent","setTime","time","rememberOnly","Date","currentTime","isPlayerEnded","player","driver","duration","update","timeDiff","readyState","HAVE_FUTURE_DATA","hasAudio","playbackRate","networkState","NETWORK_IDLE","buffered","length","load","ended","pause","play","webkitDisplayingFullscreen","paused","updater","HAVE_ENOUGH_DATA","forceEvents","addPlayer","bind","muted","wasEmpty","autoplay","indexOf","preventWithPropOrFullscreen","el","isAllowed","overloadAPI","opts","everywhere","iPad","ipad","navigator","userAgent","willAutoplay","classList","add","restoreAutoplay","removeEventListener","platform","console","warn"],"mappings":"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","file":"inlineVideo.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./components/inline-video/js/index.js\");\n","import './iphone-inline-video';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  window.addEventListener('load', () => {\n    const videos = document.querySelectorAll('video');\n    videos.forEach((video) => window.enableInlineVideo(video));\n  });\n});\n","/*! npm.im/iphone-inline-video 2.2.2 */\nvar enableInlineVideo = (function () {\n  'use strict';\n\n  /*! npm.im/intervalometer */\n  function intervalometer(cb, request, cancel, requestParameter) {\n    var requestId;\n    var previousLoopTime;\n    function loop(now) {\n      // must be requested before cb() because that might call .stop()\n      requestId = request(loop, requestParameter);\n\n      // called with \"ms since last call\". 0 on start()\n      cb(now - (previousLoopTime || now));\n\n      previousLoopTime = now;\n    }\n    return {\n      start: function start() {\n        if (!requestId) {\n          // prevent double starts\n          loop(0);\n        }\n      },\n      stop: function stop() {\n        cancel(requestId);\n        requestId = null;\n        previousLoopTime = 0;\n      },\n    };\n  }\n\n  function frameIntervalometer(cb) {\n    return intervalometer(cb, requestAnimationFrame, cancelAnimationFrame);\n  }\n\n  function preventEvent(element, eventName, test) {\n    function handler(e) {\n      if (!test || test(element, eventName)) {\n        e.stopImmediatePropagation();\n        // // console.log(eventName, 'prevented on', element);\n      }\n    }\n    element.addEventListener(eventName, handler);\n\n    // Return handler to allow to disable the prevention. Usage:\n    // const preventionHandler = preventEvent(el, 'click');\n    // el.removeEventHandler('click', preventionHandler);\n    return handler;\n  }\n\n  function proxyProperty(object, propertyName, sourceObject, copyFirst) {\n    function get() {\n      return sourceObject[propertyName];\n    }\n    function set(value) {\n      sourceObject[propertyName] = value;\n    }\n\n    if (copyFirst) {\n      set(object[propertyName]);\n    }\n\n    Object.defineProperty(object, propertyName, {get: get, set: set});\n  }\n\n  function proxyEvent(object, eventName, sourceObject) {\n    sourceObject.addEventListener(eventName, function () {\n      return object.dispatchEvent(new Event(eventName));\n    });\n  }\n\n  function dispatchEventAsync(element, type) {\n    Promise.resolve().then(function () {\n      element.dispatchEvent(new Event(type));\n    });\n  }\n\n  var iOS8or9 =\n    typeof document === 'object' &&\n    'object-fit' in document.head.style &&\n    !matchMedia('(-webkit-video-playable-inline)').matches;\n\n  var IIV = 'fregante:iphone-inline-video';\n  var IIVEvent = 'fregante:iphone-inline-video:event';\n  var IIVPlay = 'fregante:iphone-inline-video:nativeplay';\n  var IIVPause = 'fregante:iphone-inline-video:nativepause';\n\n  /**\n   * UTILS\n   */\n\n  function getAudioFromVideo(video) {\n    var audio = new Audio();\n    proxyEvent(video, 'play', audio);\n    proxyEvent(video, 'playing', audio);\n    proxyEvent(video, 'pause', audio);\n    audio.crossOrigin = video.crossOrigin;\n\n    // 'data:' causes audio.networkState > 0\n    // which then allows to keep <audio> in a resumable playing state\n    // i.e. once you set a real src it will keep playing if it was if .play() was called\n    audio.src = video.src || video.currentSrc || 'data:';\n\n    // // if (audio.src === 'data:') {\n    //   TODO: wait for video to be selected\n    // // }\n    return audio;\n  }\n\n  var lastRequests = [];\n  var requestIndex = 0;\n  var lastTimeupdateEvent;\n\n  function setTime(video, time, rememberOnly) {\n    // Allow one timeupdate event every 200+ ms\n    if ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n      video[IIVEvent] = true;\n      lastTimeupdateEvent = Date.now();\n    }\n    if (!rememberOnly) {\n      video.currentTime = time;\n    }\n    lastRequests[++requestIndex % 3] = (time * 100) | (0 / 100);\n  }\n\n  function isPlayerEnded(player) {\n    return player.driver.currentTime >= player.video.duration;\n  }\n\n  function update(timeDiff) {\n    var player = this;\n    // // console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n    if (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n      if (!player.hasAudio) {\n        player.driver.currentTime = player.video.currentTime + (timeDiff * player.video.playbackRate) / 1000;\n        if (player.video.loop && isPlayerEnded(player)) {\n          player.driver.currentTime = 0;\n        }\n      }\n      setTime(player.video, player.driver.currentTime);\n    } else if (player.video.networkState === player.video.NETWORK_IDLE && player.video.buffered.length === 0) {\n      // This should happen when the source is available but:\n      // - it's potentially playing (.paused === false)\n      // - it's not ready to play\n      // - it's not loading\n      // If it hasAudio, that will be loaded in the 'emptied' handler below\n      player.video.load();\n      // // console.log('Will load');\n    }\n\n    // // console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n    if (player.video.ended) {\n      delete player.video[IIVEvent]; // Allow timeupdate event\n      player.video.pause(true);\n    }\n  }\n\n  /**\n   * METHODS\n   */\n\n  function play() {\n    // // console.log('play');\n    var video = this;\n    var player = video[IIV];\n\n    // If it's fullscreen, use the native player\n    if (video.webkitDisplayingFullscreen) {\n      video[IIVPlay]();\n      return;\n    }\n\n    if (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n      // // console.log('src changed on play', video.src);\n      setTime(video, 0, true);\n      player.driver.src = video.src;\n    }\n\n    if (!video.paused) {\n      return;\n    }\n    player.paused = false;\n\n    if (video.buffered.length === 0) {\n      // .load() causes the emptied event\n      // the alternative is .play()+.pause() but that triggers play/pause events, even worse\n      // possibly the alternative is preventing this event only once\n      video.load();\n    }\n\n    player.driver.play();\n    player.updater.start();\n\n    if (!player.hasAudio) {\n      dispatchEventAsync(video, 'play');\n      if (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n        // // console.log('onplay');\n        dispatchEventAsync(video, 'playing');\n      }\n    }\n  }\n  function pause(forceEvents) {\n    // // console.log('pause');\n    var video = this;\n    var player = video[IIV];\n\n    player.driver.pause();\n    player.updater.stop();\n\n    // If it's fullscreen, the developer the native player.pause()\n    // This is at the end of pause() because it also\n    // needs to make sure that the simulation is paused\n    if (video.webkitDisplayingFullscreen) {\n      video[IIVPause]();\n    }\n\n    if (player.paused && !forceEvents) {\n      return;\n    }\n\n    player.paused = true;\n    if (!player.hasAudio) {\n      dispatchEventAsync(video, 'pause');\n    }\n\n    // Handle the 'ended' event only if it's not fullscreen\n    if (video.ended && !video.webkitDisplayingFullscreen) {\n      video[IIVEvent] = true;\n      dispatchEventAsync(video, 'ended');\n    }\n  }\n\n  /**\n   * SETUP\n   */\n\n  function addPlayer(video, hasAudio) {\n    var player = {};\n    video[IIV] = player;\n    player.paused = true; // Track whether 'pause' events have been fired\n    player.hasAudio = hasAudio;\n    player.video = video;\n    player.updater = frameIntervalometer(update.bind(player));\n\n    if (hasAudio) {\n      player.driver = getAudioFromVideo(video);\n    } else {\n      video.addEventListener('canplay', function () {\n        if (!video.paused) {\n          // // console.log('oncanplay');\n          dispatchEventAsync(video, 'playing');\n        }\n      });\n      player.driver = {\n        src: video.src || video.currentSrc || 'data:',\n        muted: true,\n        paused: true,\n        pause: function () {\n          player.driver.paused = true;\n        },\n        play: function () {\n          player.driver.paused = false;\n          // Media automatically goes to 0 if .play() is called when it's done\n          if (isPlayerEnded(player)) {\n            setTime(video, 0);\n          }\n        },\n        get ended() {\n          return isPlayerEnded(player);\n        },\n      };\n    }\n\n    // .load() causes the emptied event\n    video.addEventListener(\n      'emptied',\n      function () {\n        // // console.log('driver src is', player.driver.src);\n        var wasEmpty = !player.driver.src || player.driver.src === 'data:';\n        if (player.driver.src && player.driver.src !== video.src) {\n          // // console.log('src changed to', video.src);\n          setTime(video, 0, true);\n          player.driver.src = video.src;\n          // Playing videos will only keep playing if no src was present when .play()’ed\n          if (wasEmpty || (!hasAudio && video.autoplay)) {\n            player.driver.play();\n          } else {\n            player.updater.stop();\n          }\n        }\n      },\n      false,\n    );\n\n    // Stop programmatic player when OS takes over\n    video.addEventListener('webkitbeginfullscreen', function () {\n      if (!video.paused) {\n        // Make sure that the <audio> and the syncer/updater are stopped\n        video.pause();\n\n        // Play video natively\n        video[IIVPlay]();\n      } else if (hasAudio && player.driver.buffered.length === 0) {\n        // If the first play is native,\n        // the <audio> needs to be buffered manually\n        // so when the fullscreen ends, it can be set to the same current time\n        player.driver.load();\n      }\n    });\n    if (hasAudio) {\n      video.addEventListener('webkitendfullscreen', function () {\n        // Sync audio to new video position\n        player.driver.currentTime = video.currentTime;\n        // // console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n      });\n\n      // Allow seeking\n      video.addEventListener('seeking', function () {\n        if (lastRequests.indexOf((video.currentTime * 100) | (0 / 100)) < 0) {\n          // // console.log('User-requested seeking');\n          player.driver.currentTime = video.currentTime;\n        }\n      });\n    }\n  }\n\n  function preventWithPropOrFullscreen(el) {\n    var isAllowed = el[IIVEvent];\n    delete el[IIVEvent];\n    return !el.webkitDisplayingFullscreen && !isAllowed;\n  }\n\n  function overloadAPI(video) {\n    var player = video[IIV];\n    video[IIVPlay] = video.play;\n    video[IIVPause] = video.pause;\n    video.play = play;\n    video.pause = pause;\n    proxyProperty(video, 'paused', player.driver);\n    proxyProperty(video, 'muted', player.driver, true);\n    proxyProperty(video, 'playbackRate', player.driver, true);\n    proxyProperty(video, 'ended', player.driver);\n    proxyProperty(video, 'loop', player.driver, true);\n\n    // IIV works by seeking 60 times per second.\n    // These events are now useless.\n    preventEvent(video, 'seeking', function (el) {\n      return !el.webkitDisplayingFullscreen;\n    });\n    preventEvent(video, 'seeked', function (el) {\n      return !el.webkitDisplayingFullscreen;\n    });\n\n    // Limit timeupdate events\n    preventEvent(video, 'timeupdate', preventWithPropOrFullscreen);\n\n    // Prevent occasional native ended events\n    preventEvent(video, 'ended', preventWithPropOrFullscreen);\n  }\n\n  function enableInlineVideo(video, opts) {\n    if (opts === void 0) opts = {};\n\n    // Stop if already enabled\n    if (video[IIV]) {\n      return;\n    }\n\n    // Allow the user to skip detection\n    if (!opts.everywhere) {\n      // Only iOS8 and 9 are supported\n      if (!iOS8or9) {\n        return;\n      }\n\n      // Stop if it's not an allowed device\n      if (!(opts.iPad || opts.ipad ? /iPhone|iPod|iPad/ : /iPhone|iPod/).test(navigator.userAgent)) {\n        return;\n      }\n    }\n\n    // Try to pause\n    video.pause();\n\n    // Prevent autoplay.\n    // An non-started autoplaying video can't be .pause()'d\n    var willAutoplay = video.autoplay;\n    video.autoplay = false;\n\n    addPlayer(video, !video.muted);\n    overloadAPI(video);\n    video.classList.add('IIV');\n\n    // Autoplay\n    if (video.muted && willAutoplay) {\n      video.play();\n      video.addEventListener('playing', function restoreAutoplay() {\n        video.autoplay = true;\n        video.removeEventListener('playing', restoreAutoplay);\n      });\n    }\n\n    if (!/iPhone|iPod|iPad/.test(navigator.platform)) {\n      console.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n    }\n  }\n\n  window.enableInlineVideo = enableInlineVideo;\n})();\n"],"sourceRoot":""}